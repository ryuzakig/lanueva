<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>La Nueva Online</title>
  <link rel="stylesheet" href="bulma.min.css" />
  <style>
    .column {
      display: flex;
      justify-content: center;
    }

    /* @media screen and (max-width: 815px) {
      li.column {
        flex: none;
        width: 50%;
      }
    } */
  </style>

</head>

<body>
  <section class="hero is-medium is-primary is-bold">
    <div class="hero-body">
      <div class="container">
        <h1 class="title">
          La Nueva Online
        </h1>
        <h2 class="subtitle">
          Directorio de restaurantes, clinicas, negocios y más ...
        </h2>
      </div>
    </div>
  </section>
  <br>

  <!-- contenedor -->
  <div class="container contenedor">
    <button class="button is-primary" type="button" data-filter=".comida">Comida</button>
    <button class="button is-primary" type="button" data-filter=".frutas">Frutas</button>
    <button class="button is-primary" type="button" data-filter=".verdura">Verduras</button>
    <button class="button is-primary" type="button" data-filter=".pupuseria">Pupuseria</button>
    <button class="button is-primary" type="button" data-filter=".postres">Postres</button>
    <button class="button is-primary" type="button" data-filter=".antojitos">Antojitos</button>
    <button class="button is-primary" type="button" data-filter=".variedades">Variedades</button>
    <button class="button is-primary" type="button" data-filter=".salud">Salud</button>
    <button class="button is-primary" type="button" data-filter=".cosmetologia">Cosmetologia</button>
    <br>
    <br>
    <div class="">
      <ul>
        <div class="columns is-multiline" data-ref="container">

        </div>
      </ul>
    </div>
  </div>


  <footer class="footer">
    <div class="content has-text-centered">
      <p>
        <strong>La Nueva Online</strong>. Directorio de restaurantes, clinicas, negocios y más ...
      </p>
    </div>
  </footer>


  <script src="mixitup.min.js"></script>
  <script src="docready.js"></script>
  <script>
    const columnas = document.querySelector('.columns');

    const request = new XMLHttpRequest();
    request.open('GET', 'data.json', true);
    request.responseType = 'json';
    request.send();

    request.onload = function () {
      const data = request.response;
      const directorio = data["DIRECTORIO"];

      for (var i = 0; i < directorio.length; i++) {
        const negocio = document.createElement('li');
        negocio.classList.add('column', 'is-one-third');
        negocio.innerHTML = '<div class="card mix ' + directorio[i][
            "CATEGORIA"
          ] + '"><div class="card-content"><p class="title">' + directorio[i][
            "NOMBRE"
          ] + '</p><p class="subtitle">' +
          directorio[i]["PRODUCTOS"] +
          '</p></div><footer class="card-footer"><p class="card-footer-item"><span>Teléfono: <br/><a href="tel:+503' +
          directorio[i]["TELEFONO"].replace("-", "") + '">' +
          directorio[i]["TELEFONO"] +
          '</a></span></p><p class="card-footer-item"><span>Servicio: <br/>' + directorio[i]["SERVICIO"] +
          '</span></p><p class="card-footer-item"><span>Facebook:<br/><a href="#">Visitar</a></span></p></footer></div>';
        columnas.appendChild(negocio);
      }

    }
    docReady(function () {
      // var mixer = mixitup('.contenedor');
      var container = document.querySelector('[data-ref="container"]');
      var config = {
        layout: {
          allowNestedTargets: true
        }
      };

      var mixer = mixitup(container, config);

      // var container = document.querySelector(".columns");
      // console.log(container);
      // var collection = Array.from(container.querySelectorAll('.mix'));

      // console.log(collection.length); // 34

      // console.log(mixer);
      // var mixer = mixitup('.contenedor', {
      //   controls: {
      //     toggleLogic: 'and'
      //   }
      // });

    });
  </script>



</body>

</html>